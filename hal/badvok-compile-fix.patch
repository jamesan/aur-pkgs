diff -ru hal-0.5.14-original/hald/linux/addons/addon-storage.c hal-0.5.14/hald/linux/addons/addon-storage.c
--- hal-0.5.14-original/hald/linux/addons/addon-storage.c	2013-01-06 01:15:17.195955506 -0800
+++ hal-0.5.14/hald/linux/addons/addon-storage.c	2013-01-06 01:16:43.835764036 -0800
@@ -32,6 +32,7 @@
 #include <linux/cdrom.h>
 #include <linux/fs.h>
 #include <mntent.h>
+#include <sys/types.h>
 #include <scsi/sg.h>
 #include <stdint.h>
 #include <stdio.h>

